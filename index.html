<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <title>API Calling Using FetchAPI</title>
</head>
<body>
    <h1>API Calling Using FetchAPI</h1>
    <button class="mybtn btn btn-success btn sm">Get TODOS</button>
    <div class="d-flex justify-content-center">
        <div class="spinner-border text-success" role="status">
          <span class="visually-hidden">Loading...</span>
        </div>
      </div>
    <table class="table">
        <thead>
          <tr>
            <th scope="col">#</th>
            <th scope="col">First</th>
            <th scope="col">Last</th>
            <th scope="col">Handle</th>
          </tr>
        </thead>
        <tbody>
          
        </tbody>
      </table>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <script>
document.querySelector('button.mybtn').addEventListener('click',function(){
    //alert('ok');
    /*
    fetch('http://example.com/movies.json')
    .then(response => response.json())
    .then(data => console.log(data));
    */
    
    //then(success)
    //catch(Error)

    fetch('https://jsonplaceholder.typicode.com/todos', {method:'GET'})
    .then((response) => {
        response.json().then((data) =>{
            console.log(data);
            data.forEach((currentValue,index,arr) => {
                console.log(currentValue);
            });
        })
        // this is a success block
    })
    .catch(function(error){
        //This is Error block

    });//Function changing
})
    </script>
</body>
</html>